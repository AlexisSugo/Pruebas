webpackJsonp([14],{22:function(n,e,r){"use strict";!function(n,e,r){function t(){a=this,a.Enhanced.init()}var a,o={init:function(){var e=this;n(document).ready(function(){e.triggers(),e.events()})},triggers:function(){n(document).on("enhancedController:addToCart",function(n,e,r){var t=a.Enhanced.getProductInfo(e,r);a.Enhanced.addToCart(t)}).on("enhancedController:removeFromCart",function(n,e){var r=a.Enhanced.getProductInfo(e);a.Enhanced.removeFromCart(r)}).on("enhancedController:productImpresion",function(n,e){a.Enhanced.productImpresion(e)}).on("enhancedController:productClick",function(n,e,r,t){var o=a.Enhanced.getProductInfo(e);a.Enhanced.productClick(o,r,t)}).on("enhancedController:productDetailImpresion",function(n,e){var r=a.Enhanced.getProductInfo(e);a.Enhanced.productDetailImpresion(r)}).on("enhancedController:company",function(n,e){a.Enhanced.company(e)})},events:function(){var e=[];n(".vitrina").each(function(r,t){e.push(a.Enhanced.getProductInfo(n(t).children().first())),r===n(".vitrina").length-1&&n(document).trigger("enhancedController:productImpresion",[e]),n(t).find("a").click(function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation();var t=n(e.currentTarget).attr("href");n(document).trigger("enhancedController:productClick",[e.currentTarget,r,t])})})},unformatPrice:function(n){return n.replace("S/ ","")},getProductInfo:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{id:n(e).parents(".parentInfo").data("skuid"),name:n(e).parents(".parentInfo").data("name"),price:a.Enhanced.unformatPrice(n(e).parents(".parentInfo").data("bestprice")),category:n(e).parents(".parentInfo").data("category"),brand:n(e).parents(".parentInfo").data("brand"),instock:n(e).parents(".parentInfo").data("instock"),quantity:Number.parseInt(n(e).parents(".parentInfo").data("quantity")||r)}},addToCart:function(n){var e=n.id,r=n.name,t=n.price,a=n.category,o=n.brand,c=n.quantity;dataLayer.push({event:"addToCart",ecommerce:{currencyCode:"PEN",add:{products:[{id:e,name:r,price:t,category:a,brand:o,quantity:c}]}}})},removeFromCart:function(n){var e=n.id,r=n.name,t=n.price,a=n.category,o=n.brand,c=n.quantity;dataLayer.push({event:"removeFromCart",ecommerce:{currencyCode:"PEN",add:{products:[{id:e,name:r,price:t,category:a,brand:o,quantity:c}]}}})},productDetailImpresion:function(n){var e=n.id,r=n.name,t=n.price,a=n.category,o=n.brand;dataLayer.push({event:"productView",ecommerce:{currencyCode:"PEN",detail:{products:[{id:e,name:r,price:t,category:a,brand:o}]}}})},productImpresion:function(n){var e=n.map(function(n,e){return{id:n.id,name:n.name,price:n.price,category:n.category,brand:n.brand,position:e}});dataLayer.push({ecommerce:{currencyCode:"PEN",impressions:e}})},productClick:function(n,r,t){var a=n.id,o=n.name,c=n.price,i=n.category,d=n.brand;dataLayer.push({event:"productClick",ecommerce:{click:{products:[{id:a,name:o,price:c,category:i,brand:d,position:r}]}},eventCallback:function(){t?e.location.href=t:e.location.pathname="/"}})},company:function(n){dataLayer.push({event:"companyUser",ecommerce:{company_user:{company:n}}})}};t.prototype.Enhanced=o,new t(this)}(jQuery,window)}},[22]);
//# sourceMappingURL=SG-enhanced.bundle.min.js.map